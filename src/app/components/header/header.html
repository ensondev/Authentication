<header>
    <div class="container-nav">
        <button class="menu-toggle" (click)="toggleMenu()" aria-label="Menú">
            <fa-icon [icon]="faBars"></fa-icon>
        </button>
        <div class="container_logo">
            <img class="form-logo" src="/image/logo_foundation.png" alt="" draggable="false">
        </div>
    </div>
    <div class="sidebar" [class.active]="isMenuOpen()">
        <div class="container-user-information">
            <div class="circle-perfil">
                {{ userInitials }}
            </div>
            <p class="user-name">{{ userName }}</p>
            <p class="user-role">{{ userRole }}</p>
        </div>
        <nav class="menu">
            <div class="menu-section">
                <h3 class="menu-title">INICIO</h3>
                <a class="menu-item" (click)="closeMenu()" routerLink="home">
                    <fa-icon [icon]="faHouse"></fa-icon>
                    <span>Inicio</span>
                </a>
            </div>
            
            <div class="menu-section">
                <h3 class="menu-title">MÓDULOS</h3>
                <ul class="menu-list">
                    <!-- Donaciones -->
                    <li class="has-submenu" [class.open]="openSubmenu === 'donaciones'">
                        <div class="submenu-header" (click)="toggleSubmenu('donaciones')">
                            <fa-icon [icon]="faHandshakeAngle"></fa-icon>
                            <span>Donaciones</span>
                            <fa-icon class="submenu-arrow" [icon]="openSubmenu === 'donaciones' ? faChevronDown : faChevronRight"></fa-icon>
                        </div>
                        <ul class="submenu">
                            <li>
                                <a (click)="closeMenu()" routerLink="/donaciones/registrar">
                                    <span>Registrar Donaciones</span>
                                </a>
                            </li>
                            <li>
                                <a (click)="closeMenu()" routerLink="/donaciones/donadores">
                                    <span>Registrar Donador</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <!-- Beneficiarios -->
                    <li>
                        <a class="menu-item" (click)="closeMenu()" routerLink="/beneficiarios">
                            <fa-icon [icon]="faUsers"></fa-icon>
                            <span>Beneficiarios</span>
                        </a>
                    </li>
                    
                    <!-- Inventario -->
                    <li class="has-submenu" [class.open]="openSubmenu === 'inventario'">
                        <div class="submenu-header" (click)="toggleSubmenu('inventario')">
                            <fa-icon [icon]="faBoxes"></fa-icon>
                            <span>Inventario</span>
                            <fa-icon class="submenu-arrow" [icon]="openSubmenu === 'inventario' ? faChevronDown : faChevronRight"></fa-icon>
                        </div>
                        <ul class="submenu">
                            <li>
                                <a (click)="closeMenu()" routerLink="/inventario/registrar">
                                    <span>Registrar Producto</span>
                                </a>
                            </li>
                            <li>
                                <a (click)="closeMenu()" routerLink="/inventario/ventas">
                                    <span>Vender Productos</span>
                                </a>
                            </li>
                            <li>
                                <a (click)="closeMenu()" routerLink="/inventario/bodega">
                                    <span>Bodega</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <!-- Ventas -->
                    <li>
                        <a class="menu-item" (click)="closeMenu()" routerLink="/ventas">
                            <fa-icon [icon]="faReceipt"></fa-icon>
                            <span>Ventas Realizadas</span>
                        </a>
                    </li>
                    
                    <!-- Caja -->
                    <li>
                        <a class="menu-item" (click)="closeMenu()" routerLink="/caja">
                            <fa-icon [icon]="faCashRegister"></fa-icon>
                            <span>Caja</span>
                        </a>
                    </li>
                    
                    <!-- Usuarios -->
                    <li>
                        <a class="menu-item" (click)="closeMenu()" routerLink="/usuarios">
                            <fa-icon [icon]="faUserCog"></fa-icon>
                            <span>Administrar Usuarios</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="menu-section">
                <h3 class="menu-title">SESIÓN</h3>
                <a class="menu-item" (click)="logout()">
                    <fa-icon [icon]="faSignOutAlt"></fa-icon>
                    <span>Cerrar Sesión</span>
                </a>
            </div>
        </nav>
    </div>
    
    <div class="backdrop" *ngIf="isMenuOpen()" (click)="closeMenu()"></div>
</header>